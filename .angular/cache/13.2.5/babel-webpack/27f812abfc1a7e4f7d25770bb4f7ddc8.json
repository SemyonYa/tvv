{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { CtorItem } from '../../../../models/Ctor';\nimport { Project } from '../../../../models/Project';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/breadcrumbs.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../form-item/form-item.component\";\nimport * as i5 from \"../image-input/image-input.component\";\nimport * as i6 from \"../toggle/toggle.component\";\nimport * as i7 from \"../collapsible/collapsible.component\";\nimport * as i8 from \"../ctor-item/ctor-item.component\";\n\nfunction ProjectFormComponent_div_0_option_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const type_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", type_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(type_r11);\n  }\n}\n\nfunction ProjectFormComponent_div_0_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const place_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", place_r12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(place_r12);\n  }\n}\n\nfunction ProjectFormComponent_div_0_i_form_item_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"i-form-item\", 29)(1, \"label\");\n    i0.ɵɵtext(2, \"\\u0424\\u043E\\u0442\\u043E \\u0434\\u043E\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 30);\n    i0.ɵɵelementStart(4, \"i-image-input\", 31);\n    i0.ɵɵlistener(\"onSelect\", function ProjectFormComponent_div_0_i_form_item_37_Template_i_image_input_onSelect_4_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.selectThumb($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"form\", ctx_r6.form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"projectId\", ctx_r6.projectId);\n  }\n}\n\nfunction ProjectFormComponent_div_0_i_form_item_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"i-form-item\", 29)(1, \"label\");\n    i0.ɵɵtext(2, \"\\u0424\\u043E\\u0442\\u043E \\u043F\\u043E\\u0441\\u043B\\u0435\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 30);\n    i0.ɵɵelementStart(4, \"i-image-input\", 32);\n    i0.ɵɵlistener(\"onSelect\", function ProjectFormComponent_div_0_i_form_item_38_Template_i_image_input_onSelect_4_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return ctx_r15.selectThumb($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"form\", ctx_r7.form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"projectId\", ctx_r7.projectId);\n  }\n}\n\nfunction ProjectFormComponent_div_0_button_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelement(2, \"img\", 34);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r8.valid);\n  }\n}\n\nfunction ProjectFormComponent_div_0_fieldset_45_ng_container_4_hr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"hr\");\n  }\n}\n\nfunction ProjectFormComponent_div_0_fieldset_45_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"i-ctor-item\", 39);\n    i0.ɵɵlistener(\"onAdd\", function ProjectFormComponent_div_0_fieldset_45_ng_container_4_Template_i_ctor_item_onAdd_1_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(3);\n      return ctx_r24.addItem($event);\n    })(\"onRemove\", function ProjectFormComponent_div_0_fieldset_45_ng_container_4_Template_i_ctor_item_onRemove_1_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext(3);\n      return ctx_r26.removeItem($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(2, ProjectFormComponent_div_0_fieldset_45_ng_container_4_hr_2_Template, 1, 0, \"hr\", 40);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r20 = ctx.$implicit;\n    const index_r21 = ctx.index;\n    const last_r22 = ctx.last;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"item\", item_r20)(\"index\", index_r21);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !last_r22);\n  }\n}\n\nfunction ProjectFormComponent_div_0_fieldset_45_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵtext(1, \" \\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u0443\\u0441\\u0442 \");\n    i0.ɵɵelementStart(2, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function ProjectFormComponent_div_0_fieldset_45_div_5_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(3);\n      return ctx_r27.addItem();\n    });\n    i0.ɵɵtext(3, \" \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \");\n    i0.ɵɵelement(4, \"img\", 43);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProjectFormComponent_div_0_fieldset_45_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 44);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext(3);\n\n    const _r2 = i0.ɵɵreference(3);\n\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n  }\n}\n\nfunction ProjectFormComponent_div_0_fieldset_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"fieldset\", 35)(1, \"legend\");\n    i0.ɵɵtext(2, \"project items\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"i-collapsible\", 36);\n    i0.ɵɵtemplate(4, ProjectFormComponent_div_0_fieldset_45_ng_container_4_Template, 3, 3, \"ng-container\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ProjectFormComponent_div_0_fieldset_45_div_5_Template, 5, 0, \"div\", 38);\n    i0.ɵɵtemplate(6, ProjectFormComponent_div_0_fieldset_45_ng_container_6_Template, 1, 1, \"ng-container\", 1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"expanded\", !!(ctx_r9.project == null ? null : ctx_r9.project.items));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.project.items);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r9.project.items == null ? null : ctx_r9.project.items.length) === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r9.project.items);\n  }\n}\n\nfunction ProjectFormComponent_div_0_button_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵtext(1, \" Save \");\n    i0.ɵɵelement(2, \"img\", 34);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r10.valid);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"none\": a0\n  };\n};\n\nfunction ProjectFormComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"form\", 4);\n    i0.ɵɵlistener(\"ngSubmit\", function ProjectFormComponent_div_0_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.submit();\n    });\n    i0.ɵɵelementStart(2, \"div\", 5)(3, \"i-form-item\", 6)(4, \"label\");\n    i0.ɵɵtext(5, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"i-form-item\", 8)(8, \"label\");\n    i0.ɵɵtext(9, \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"textarea\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"i-form-item\", 10)(12, \"label\");\n    i0.ɵɵtext(13, \"\\u041F\\u0435\\u0440\\u0438\\u043E\\u0434 \\u043F\\u0440\\u043E\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F \\u0440\\u0430\\u0431\\u043E\\u0442\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"i-form-item\", 12)(16, \"label\");\n    i0.ɵɵtext(17, \"\\u0417\\u0430\\u0442\\u0440\\u0430\\u0442\\u044B, \\u0432 \\u043C\\u043B\\u043D. \\u0440\\u0443\\u0431.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"i-form-item\", 14)(20, \"label\");\n    i0.ɵɵtext(21, \"\\u041B\\u044E\\u0434\\u0438\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"i-form-item\", 16)(24, \"label\");\n    i0.ɵɵtext(25, \"\\u0422\\u0438\\u043F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"select\", 17);\n    i0.ɵɵtemplate(27, ProjectFormComponent_div_0_option_27_Template, 2, 2, \"option\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"i-form-item\", 19)(29, \"label\");\n    i0.ɵɵtext(30, \"\\u041D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043F\\u0443\\u043D\\u043A\\u0442\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"select\", 20);\n    i0.ɵɵtemplate(32, ProjectFormComponent_div_0_option_32_Template, 2, 2, \"option\", 18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"i-form-item\", 19)(34, \"label\");\n    i0.ɵɵtext(35, \"\\u041D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043F\\u0443\\u043D\\u043A\\u0442\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"input\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(37, ProjectFormComponent_div_0_i_form_item_37_Template, 5, 2, \"i-form-item\", 22);\n    i0.ɵɵtemplate(38, ProjectFormComponent_div_0_i_form_item_38_Template, 5, 2, \"i-form-item\", 22);\n    i0.ɵɵelementStart(39, \"i-form-item\", 23)(40, \"label\");\n    i0.ɵɵtext(41, \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u0442\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(42, \"input\", 24);\n    i0.ɵɵelementStart(43, \"i-toggle\", 25);\n    i0.ɵɵlistener(\"onToggle\", function ProjectFormComponent_div_0_Template_i_toggle_onToggle_43_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.toggleActivity($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(44, ProjectFormComponent_div_0_button_44_Template, 3, 1, \"button\", 26);\n    i0.ɵɵtemplate(45, ProjectFormComponent_div_0_fieldset_45_Template, 7, 4, \"fieldset\", 27);\n    i0.ɵɵtemplate(46, ProjectFormComponent_div_0_button_46_Template, 3, 1, \"button\", 26);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.form);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"form\", ctx_r0.form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"form\", ctx_r0.form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"form\", ctx_r0.form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"form\", ctx_r0.form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"form\", ctx_r0.form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"form\", ctx_r0.form)(\"ngClass\", i0.ɵɵpureFunction1(21, _c0, !ctx_r0.types));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.types);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"form\", ctx_r0.form)(\"ngClass\", i0.ɵɵpureFunction1(23, _c0, !ctx_r0.places));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.places);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"form\", ctx_r0.form)(\"ngClass\", i0.ɵɵpureFunction1(25, _c0, !!ctx_r0.places));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.project == null ? null : ctx_r0.project.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.project == null ? null : ctx_r0.project.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"form\", ctx_r0.form);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"initialValue\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(ctx_r0.project == null ? null : ctx_r0.project.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.project == null ? null : ctx_r0.project.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.project == null ? null : ctx_r0.project.id);\n  }\n}\n\nfunction ProjectFormComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 44);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r2 = i0.ɵɵreference(3);\n\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n  }\n}\n\nfunction ProjectFormComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵelement(1, \"i-in-progress\", 46);\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let ProjectFormComponent = /*#__PURE__*/(() => {\n  class ProjectFormComponent {\n    constructor(breadcrumbsService) {\n      this.breadcrumbsService = breadcrumbsService;\n      this.types = ['Больница', 'Детский сад', 'Дом культуры', 'Школа', 'Коммуникации'];\n    }\n\n    ngOnInit() {\n      console.log(this.place);\n\n      if (this.projectId) {\n        this.projectRest.get(this.projectId).subscribe(item => {\n          this.project = item;\n          this.generateForm();\n          this.valueChangesSubscription();\n          this.breadcrumbsService.setItems([{\n            title: this.place.region,\n            route: `/cab/regions/${this.place.region}`\n          }, {\n            title: this.place.name,\n            route: `/cab/places/${this.place.id}`\n          }, {\n            title: this.project.name,\n            route: ``\n          }]);\n        });\n      } else {\n        this.project = new Project();\n        this.generateForm();\n        this.valueChangesSubscription();\n        this.breadcrumbsService.setItems([{\n          title: this.place.region,\n          route: `/cab/regions/${this.place.region}`\n        }, {\n          title: this.place.name,\n          route: `/cab/places/${this.place.id}`\n        }, {\n          title: 'Новый проект',\n          route: ``\n        }]);\n      }\n    }\n\n    get valid() {\n      var _a, _b, _c;\n\n      return (((_b = (_a = this.project) === null || _a === void 0 ? void 0 : _a.items) === null || _b === void 0 ? void 0 : _b.length) > 0 ? (_c = this.project) === null || _c === void 0 ? void 0 : _c.items.map(c => !!c.value).reduce((acc, next) => acc && next, true) : true) && this.form.valid;\n    }\n\n    generateForm() {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n\n      this.form = new FormGroup({\n        id: new FormControl((_b = (_a = this.project) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : ''),\n        name: new FormControl((_d = (_c = this.project) === null || _c === void 0 ? void 0 : _c.name) !== null && _d !== void 0 ? _d : '', [Validators.required]),\n        period: new FormControl((_f = (_e = this.project) === null || _e === void 0 ? void 0 : _e.period) !== null && _f !== void 0 ? _f : '', [Validators.required]),\n        costs: new FormControl((_h = (_g = this.project) === null || _g === void 0 ? void 0 : _g.costs) !== null && _h !== void 0 ? _h : '', [Validators.required]),\n        people: new FormControl((_k = (_j = this.project) === null || _j === void 0 ? void 0 : _j.people) !== null && _k !== void 0 ? _k : '', [Validators.required]),\n        type: new FormControl((_m = (_l = this.project) === null || _l === void 0 ? void 0 : _l.type) !== null && _m !== void 0 ? _m : '', [Validators.required]),\n        thumbId: new FormControl((_p = (_o = this.project) === null || _o === void 0 ? void 0 : _o.thumbId) !== null && _p !== void 0 ? _p : ''),\n        placeId: new FormControl((_r = (_q = this.project) === null || _q === void 0 ? void 0 : _q.placeId) !== null && _r !== void 0 ? _r : (_s = this.place) === null || _s === void 0 ? void 0 : _s.id),\n        isActive: new FormControl(this.project.isActive)\n      });\n    }\n\n    valueChangesSubscription() {\n      this.form.valueChanges.subscribe(values => {\n        if (this.project) {\n          for (let key in values) {\n            this.project[key] = values[key];\n          }\n        }\n      });\n    }\n\n    selectThumb(image) {\n      this.form.patchValue({\n        thumbId: image.id\n      });\n    }\n\n    toggleActivity(value) {\n      this.form.patchValue({\n        isActive: value\n      });\n    }\n\n    changeCoordinates(coordinates) {\n      this.form.patchValue({\n        x: coordinates.x,\n        y: coordinates.y\n      });\n    }\n\n    addItem(afterItem = null) {\n      var _a;\n\n      if (!((_a = this.project) === null || _a === void 0 ? void 0 : _a.id)) {\n        return;\n      }\n\n      if (afterItem) {\n        const afterItemIndex = this.project.items.indexOf(afterItem);\n        this.project.items = [...this.project.items.slice(0, afterItemIndex + 1), new CtorItem(this.project.id), ...this.project.items.slice(afterItemIndex + 1)];\n      } else {\n        this.project.items.push(new CtorItem(this.project.id));\n      }\n    }\n\n    removeItem(index) {\n      this.project.items.splice(index, 1);\n    }\n\n    submit() {\n      var _a;\n\n      console.log(this.form);\n\n      if (!((_a = this.project) === null || _a === void 0 ? void 0 : _a.id)) {\n        this.projectRest.post(this.project).subscribe(item => {\n          item.items = [];\n          this.updateProject(item);\n        }, this.projectRest.handleError, () => {// this.onSuccess.emit(this.ctor);\n        });\n      } else {\n        console.log(this.project);\n        const items = [...this.project.items];\n        this.projectRest.put(this.project, this.project.id).subscribe(item => {\n          this.updateProject(item);\n          this.saveChildren(items, this.project.id);\n        }, this.projectRest.handleError, () => {// this.onSuccess.emit(this.ctor);\n        });\n      }\n    }\n\n    updateProject(project) {\n      for (let key in project) {\n        if (key !== 'items') {\n          this.project[key] = project[key];\n        }\n      }\n    }\n\n    saveChildren(items, ctorId) {\n      this.projectRest.postChildren(items, ctorId).subscribe(items => {\n        this.project.items = items;\n      }, this.projectRest.handleError, () => {// this.onSuccess.emit(this.ctor);\n      });\n    }\n\n  }\n\n  ProjectFormComponent.ɵfac = function ProjectFormComponent_Factory(t) {\n    return new (t || ProjectFormComponent)(i0.ɵɵdirectiveInject(i1.BreadcrumbsService));\n  };\n\n  ProjectFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProjectFormComponent,\n    selectors: [[\"tvv-project-form\"]],\n    inputs: {\n      projectRest: \"projectRest\",\n      place: \"place\",\n      projectId: \"projectId\"\n    },\n    decls: 4,\n    vars: 2,\n    consts: [[\"class\", \"wrap col\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\", 4, \"ngIf\"], [\"inProgress\", \"\"], [1, \"wrap\", \"col\"], [1, \"col\", 3, \"formGroup\", \"ngSubmit\"], [1, \"parent\"], [\"control\", \"id\", 3, \"form\"], [\"type\", \"text\", \"formControlName\", \"id\", \"readonly\", \"\"], [\"control\", \"name\", 3, \"form\"], [\"type\", \"text\", \"formControlName\", \"name\", \"rows\", \"4\"], [\"control\", \"period\", 3, \"form\"], [\"type\", \"text\", \"formControlName\", \"period\"], [\"control\", \"costs\", 3, \"form\"], [\"type\", \"number\", \"formControlName\", \"costs\"], [\"control\", \"people\", 3, \"form\"], [\"type\", \"text\", \"formControlName\", \"people\"], [\"control\", \"type\", 3, \"form\", \"ngClass\"], [\"formControlName\", \"type\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"control\", \"placeId\", 3, \"form\", \"ngClass\"], [\"formControlName\", \"placeId\"], [\"type\", \"number\", \"formControlName\", \"placeId\", \"readonly\", \"\"], [\"control\", \"thumbId\", 3, \"form\", 4, \"ngIf\"], [\"control\", \"isActive\", 3, \"form\"], [\"type\", \"checkbox\", \"formControlName\", \"isActive\", \"readonly\", \"\", 1, \"none\"], [3, \"initialValue\", \"onToggle\"], [\"type\", \"submit\", \"class\", \"success\", 3, \"disabled\", 4, \"ngIf\"], [\"class\", \"children\", 4, \"ngIf\"], [3, \"value\"], [\"control\", \"thumbId\", 3, \"form\"], [\"type\", \"text\", \"formControlName\", \"thumbId\", \"readonly\", \"\", 1, \"none\"], [\"period\", \"before\", 3, \"projectId\", \"onSelect\"], [\"period\", \"after\", 3, \"projectId\", \"onSelect\"], [\"type\", \"submit\", 1, \"success\", 3, \"disabled\"], [\"src\", \"/assets/icons/done.svg\", \"alt\", \"SAVE\"], [1, \"children\"], [3, \"expanded\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"empty-list\", 4, \"ngIf\"], [3, \"item\", \"index\", \"onAdd\", \"onRemove\"], [4, \"ngIf\"], [1, \"empty-list\"], [\"type\", \"button\", 1, \"add-item\", 3, \"click\"], [\"src\", \"/assets/icons/plus-blue.svg\", \"alt\", \"ADD\"], [3, \"ngTemplateOutlet\"], [1, \"center\"], [\"size\", \"36px\", \"margin\", \"48px\"]],\n    template: function ProjectFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProjectFormComponent_div_0_Template, 47, 27, \"div\", 0);\n        i0.ɵɵtemplate(1, ProjectFormComponent_ng_container_1_Template, 1, 1, \"ng-container\", 1);\n        i0.ɵɵtemplate(2, ProjectFormComponent_ng_template_2_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.form);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.form);\n      }\n    },\n    directives: [i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i4.FormItemComponent, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i3.NumberValueAccessor, i2.NgClass, i3.SelectControlValueAccessor, i2.NgForOf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i5.FileInputComponent, i3.CheckboxControlValueAccessor, i6.ToggleComponent, i7.CollapsibleComponent, i8.CtorItemComponent, i2.NgTemplateOutlet],\n    styles: [\".wrap[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:200}.wrap[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .parent[_ngcontent-%COMP%]{max-width:400px}.wrap[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset.children[_ngcontent-%COMP%]{border:solid 1px var(--color-grey-light);border-radius:8px;min-height:100px}.wrap[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset.children[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{padding:0 10px;font-size:16px}.wrap[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset.children[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:20px 30%}.wrap[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{align-self:flex-start}.wrap[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button.add-item[_ngcontent-%COMP%]{margin-top:12px;border:solid 1px var(--color-blue);align-self:center;min-width:30%}\"]\n  });\n  return ProjectFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}